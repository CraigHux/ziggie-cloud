# Knowledge Base Pipeline Configuration
# Copy this file to .env and fill in your API keys

# ============================================
# API KEYS (Required)
# ============================================

# Anthropic Claude API (Required for AI analysis)
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# YouTube Data API v3 (Required for video metadata)
# Get from: https://console.cloud.google.com/apis/credentials
YOUTUBE_API_KEY=your_youtube_api_key_here

# OpenAI API (Optional - only for Whisper transcription fallback)
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here


# ============================================
# PATHS
# ============================================

# Knowledge base root directory
KB_PATH=C:\meowping-rts\ai-agents\knowledge-base

# Log directory
LOG_PATH=C:\meowping-rts\ai-agents\knowledge-base\logs

# Metadata directory
METADATA_PATH=C:\meowping-rts\ai-agents\knowledge-base\metadata

# Temporary files directory
TEMP_PATH=C:\meowping-rts\ai-agents\knowledge-base\temp


# ============================================
# SCANNING CONFIGURATION
# ============================================

# Scan schedules (cron format or simple)
SCAN_SCHEDULE_CRITICAL=every_3_days
SCAN_SCHEDULE_HIGH=weekly
SCAN_SCHEDULE_MEDIUM=biweekly
SCAN_SCHEDULE_LOW=monthly

# Max videos to process per scan
MAX_VIDEOS_PER_SCAN=10

# Process videos from last N days
SCAN_LOOKBACK_DAYS=7


# ============================================
# EXTRACTION SETTINGS
# ============================================

# Transcript extraction method priority (comma-separated)
# Options: youtube_auto, youtube_manual, whisper_api, skip
TRANSCRIPT_METHODS=youtube_auto,youtube_manual,whisper_api

# Max transcript length (characters)
MAX_TRANSCRIPT_LENGTH=50000

# Skip videos shorter than (seconds)
MIN_VIDEO_DURATION=120

# Skip videos longer than (seconds)
MAX_VIDEO_DURATION=3600


# ============================================
# AI ANALYSIS SETTINGS
# ============================================

# Claude model to use
CLAUDE_MODEL=claude-3-5-sonnet-20241022

# Temperature (0.0 = deterministic, 1.0 = creative)
CLAUDE_TEMPERATURE=0.3

# Max tokens per analysis
CLAUDE_MAX_TOKENS=4096

# Retry failed analyses
ANALYSIS_RETRY_COUNT=3


# ============================================
# VALIDATION SETTINGS
# ============================================

# Minimum confidence score to auto-apply (0-100)
CONFIDENCE_THRESHOLD=80

# Require human review below this score
HUMAN_REVIEW_THRESHOLD=60

# Auto-reject below this score
AUTO_REJECT_THRESHOLD=40

# Require multiple sources for validation
REQUIRE_MULTI_SOURCE_VALIDATION=true

# Minimum sources for multi-source validation
MIN_SOURCES_FOR_VALIDATION=2

# Confidence boost for multi-source agreement
MULTI_SOURCE_CONFIDENCE_BOOST=10


# ============================================
# STORAGE SETTINGS
# ============================================

# Knowledge file format (markdown or json)
KB_FILE_FORMAT=markdown

# Include timestamp references in KB
INCLUDE_TIMESTAMPS=true

# Include source citations in KB
INCLUDE_CITATIONS=true

# Backup KB files before updating
BACKUP_BEFORE_UPDATE=true


# ============================================
# PERFORMANCE & RATE LIMITING
# ============================================

# Max concurrent API requests
MAX_CONCURRENT_REQUESTS=3

# Delay between API calls (seconds)
API_CALL_DELAY=1

# YouTube API daily quota limit (default: 10000)
YOUTUBE_API_DAILY_QUOTA=10000

# Anthropic API rate limit (requests per minute)
ANTHROPIC_RPM_LIMIT=50


# ============================================
# LOGGING
# ============================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log to console
LOG_TO_CONSOLE=true

# Log to file
LOG_TO_FILE=true

# Max log file size (MB)
MAX_LOG_FILE_SIZE=10

# Keep last N log files
LOG_BACKUP_COUNT=5


# ============================================
# TESTING & DEBUG
# ============================================

# Dry run mode (don't update KB files)
DRY_RUN=false

# Verbose output
VERBOSE=false

# Save raw transcripts for debugging
SAVE_RAW_TRANSCRIPTS=false

# Test mode (process only 1 video per creator)
TEST_MODE=false
